{% comment %}
    Inspect frame template for the 'interactive' style of inspect for inventree-part-template plugin  

    Copyright (c) 2024 Chris Midgley
    License: MIT (see LICENSE file)

    This template is used to prepare the rendering of an object from inspect (such as the explore
    filter).  It is usually used to set up style and layout for the rendering, but then delegates to
    the object template for recursive rendering of the object and it's children.

    The following context variables are available:
    - inspect: contains information about the object to render.  See the object template(s) for
      details, as usually this information is not used in this parent template.
    - object_template: the name of the child template to load for rendering the object and it's
    children.  Include the template name using `{% include object_template with object=inspect %}`.
{% endcomment %}

<link rel="stylesheet" href="/static/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" href="/static/fontawesome/css/brands.min.css">
<link rel="stylesheet" href="/static/fontawesome/css/solid.min.css">

<style>
.inspect-interactive-outer {
    border: 1px solid #ddd;
    padding: 10px;
    margin: 10px;
    border-radius: 5px;
    background-color: #f9f9f9;
}
.inspect-interactive-item-title-title {
  font-weight: bold;
}
.inspect-interactive-item-children {
    margin-left: 20px;
}
</style>
<div class="inspect-interactive-outer">
{% include object_template with object=inspect %}
</div>

<!-- bootstrap -->
<script type="text/javascript" src="/static/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- fontawesome -->
<script defer type='text/javascript' src="/static/fontawesome/js/solid.min.js"></script>
<script defer type='text/javascript' src="/static/fontawesome/js/regular.min.js"></script>
<script defer type='text/javascript' src="/static/fontawesome/js/brands.min.js"></script>
<script defer type='text/javascript' src="/static/fontawesome/js/fontawesome.min.js"></script>

<!-- toggle icon expand/collapse-->
<script>
  document.addEventListener('DOMContentLoaded', function () {
      var collapseElements = document.querySelectorAll('.collapse');
      collapseElements.forEach(function(collapseElement) {
          var button = document.querySelector('[data-bs-target="#' + collapseElement.id + '"]');
          var icon = button.querySelector('.expando-icon');
  
          collapseElement.addEventListener('show.bs.collapse', function () {
              icon.classList.remove('fa-chevron-right');
              icon.classList.add('fa-chevron-down');
          });
  
          collapseElement.addEventListener('hide.bs.collapse', function () {
              icon.classList.remove('fa-chevron-down');
              icon.classList.add('fa-chevron-right');
          });
      });
  });
  </script>
  